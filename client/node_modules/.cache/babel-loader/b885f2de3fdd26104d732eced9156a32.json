{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\kien_app\\\\client\\\\src\\\\component\\\\manageUser\\\\bodyManageUser\\\\manageSetting\\\\settingForm\\\\CoverForm.js\",\n    _s = $RefreshSig$();\n\nimport { useMutation } from '@apollo/client';\nimport React from 'react';\nimport { PUBLISH_USER } from '../../../../../graphql-client/Mutation';\nimport { useState } from 'react';\nimport { openUploadWidget } from '../../../../../cloudinaryService/CloudinaryService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CoverForm() {\n  _s();\n\n  const [coverForm, setCoverForm] = useState({\n    coverForm: ''\n  });\n  const [settingUser] = useMutation(PUBLISH_USER, {\n    variables: {\n      cover: coverForm.coverForm\n    }\n  });\n\n  const beginUpload = tag => {\n    const uploadOptions = {\n      cloudName: \"nhk598\",\n      tags: [tag],\n      uploadPreset: \"tailen\"\n    };\n    openUploadWidget(uploadOptions, (error, photos) => {\n      if (!error) {\n        if (photos.event === 'success') {\n          setCoverForm({ ...coverForm,\n            coverForm: photos.info.secure_url\n          });\n        }\n      } else {\n        console.log(error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    action: \"submit\",\n    onSubmit: e => {\n      e.preventDefault();\n      settingUser();\n      alert('Đã thay đổi ảnh bìa thành công !');\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"manageAvatar\",\n        children: \"Ch\\u1ECDn \\u1EA3nh b\\xECa\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: settingUser.coverForm,\n        onClick: () => beginUpload(),\n        children: \"Ch\\u1ECDn \\u1EA3nh b\\xECa c\\u1EE7a b\\u1EA1n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      children: \"C\\u1EADp nh\\u1EADt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CoverForm, \"xxdUZoc4eS3c8kI/boD4oX3895s=\", false, function () {\n  return [useMutation];\n});\n\n_c = CoverForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CoverForm\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/kien_app/client/src/component/manageUser/bodyManageUser/manageSetting/settingForm/CoverForm.js"],"names":["useMutation","React","PUBLISH_USER","useState","openUploadWidget","CoverForm","coverForm","setCoverForm","settingUser","variables","cover","beginUpload","tag","uploadOptions","cloudName","tags","uploadPreset","error","photos","event","info","secure_url","console","log","e","preventDefault","alert"],"mappings":";;;AAAA,SAAUA,WAAV,QAA6B,gBAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,wCAA7B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAAQC,gBAAR,QAA+B,oDAA/B;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAE5B,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BJ,QAAQ,CAAC;AAC3CG,IAAAA,SAAS,EAAC;AADiC,GAAD,CAA1C;AAIA,QAAM,CAACE,WAAD,IAAgBR,WAAW,CAACE,YAAD,EAAc;AAC7CO,IAAAA,SAAS,EAAC;AACRC,MAAAA,KAAK,EAAEJ,SAAS,CAACA;AADT;AADmC,GAAd,CAAjC;;AAOA,QAAMK,WAAW,GAAGC,GAAG,IAAI;AACzB,UAAMC,aAAa,GAAG;AACpBC,MAAAA,SAAS,EAAE,QADS;AAEpBC,MAAAA,IAAI,EAAE,CAACH,GAAD,CAFc;AAGpBI,MAAAA,YAAY,EAAE;AAHM,KAAtB;AAMAZ,IAAAA,gBAAgB,CAACS,aAAD,EAAgB,CAACI,KAAD,EAAQC,MAAR,KAAmB;AACjD,UAAI,CAACD,KAAL,EAAY;AACV,YAAGC,MAAM,CAACC,KAAP,KAAiB,SAApB,EAA8B;AAC3BZ,UAAAA,YAAY,CAAC,EAAC,GAAGD,SAAJ;AAAcA,YAAAA,SAAS,EAAEY,MAAM,CAACE,IAAP,CAAYC;AAArC,WAAD,CAAZ;AACF;AACF,OAJD,MAIO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACD;AACF,KARe,CAAhB;AASD,GAhBD;;AAkBJ,sBACI;AAAM,IAAA,MAAM,EAAC,QAAb;AACE,IAAA,QAAQ,EAAGO,CAAD,IAAO;AACfA,MAAAA,CAAC,CAACC,cAAF;AACAjB,MAAAA,WAAW;AACXkB,MAAAA,KAAK,CAAC,kCAAD,CAAL;AACD,KALH;AAAA,4BAOI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACQ;AAAO,QAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADR,eAEQ;AAAQ,QAAA,KAAK,EAAElB,WAAW,CAACF,SAA3B;AAAsC,QAAA,OAAO,EAAE,MAAMK,WAAW,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFR;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAWU;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXV;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GA/CuBN,S;UAMML,W;;;KANNK,S","sourcesContent":["import {  useMutation } from '@apollo/client'\r\nimport React from 'react'\r\nimport { PUBLISH_USER } from '../../../../../graphql-client/Mutation'\r\nimport { useState } from 'react'\r\nimport {openUploadWidget} from '../../../../../cloudinaryService/CloudinaryService'\r\n\r\nexport default function CoverForm() {\r\n\r\n        const [coverForm, setCoverForm] = useState({\r\n        coverForm:'', \r\n        });\r\n\r\n        const [settingUser] = useMutation(PUBLISH_USER,{\r\n          variables:{\r\n            cover: coverForm.coverForm,\r\n            \r\n          }\r\n        });\r\n\r\n        const beginUpload = tag => {\r\n          const uploadOptions = {\r\n            cloudName: \"nhk598\",\r\n            tags: [tag],\r\n            uploadPreset: \"tailen\"\r\n          };\r\n        \r\n          openUploadWidget(uploadOptions, (error, photos) => {\r\n            if (!error) {\r\n              if(photos.event === 'success'){\r\n                 setCoverForm({...coverForm,coverForm: photos.info.secure_url});\r\n              }\r\n            } else {\r\n              console.log(error);\r\n            }\r\n          })\r\n        }\r\n\r\n    return (\r\n        <form action=\"submit\"\r\n          onSubmit={(e) => {\r\n            e.preventDefault();\r\n            settingUser();\r\n            alert('Đã thay đổi ảnh bìa thành công !');\r\n          }}>\r\n\r\n            <div className=\"form-group\">\r\n                    <label htmlFor=\"manageAvatar\">Chọn ảnh bìa</label>\r\n                    <button value={settingUser.coverForm} onClick={() => beginUpload()}>Chọn ảnh bìa của bạn</button>       \r\n            </div>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">Cập nhật</button>\r\n        </form>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}