{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\kien_app\\\\client\\\\src\\\\component\\\\watching\\\\watchingVideo_left\\\\wVideo_left_bot\\\\supportVideo\\\\connectListSp\\\\commentVideoPlaying\\\\commentFormVideo\\\\NewComment.js\",\n    _s = $RefreshSig$();\n\nimport { useMutation } from '@apollo/client';\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\nimport { NEW_COMMENT } from '../../../../../../../../graphql-client/Mutation';\nimport { useState } from 'react';\nimport { COMMENT_VIDEO_PLAYING } from '../../../../../../../../graphql-client/Queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function NewComment() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [formTextComment, setFormTextComment] = useState({\n    text: ''\n  });\n  const [new_comment] = useMutation(NEW_COMMENT, {\n    // Nhập vào tham số\n    variables: {\n      // Nhập vào id của video từ id trên params\n      videoId: id,\n      // Nhập vào text của comment từ state \n      text: formTextComment.text\n    },\n    // Cập nhật bộ nhớ cache với data comment thay đổi\n    update: (cache, {\n      data: {\n        comment\n      }\n    }) => {\n      const data = cache.readQuery({\n        query: COMMENT_VIDEO_PLAYING,\n        variables: {\n          id: id\n        }\n      });\n      cache.writeQuery({\n        query: COMMENT_VIDEO_PLAYING,\n        data: {\n          video: [comment, ...data.video]\n        }\n      });\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"d-flex-column newComment\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"headerNewComment d-flex input-group \",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"input-group-text\",\n        id: \"basic-addon1\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img- video_avatar\",\n          alt: \"\",\n          src: \"./gai.jpg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => {\n          e.preventDefault();\n          new_comment();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          style: {\n            height: '50px',\n            width: '400px'\n          },\n          className: \"form-control\",\n          placeholder: \"\\u0110\\u1EB7t c\\xE2u h\\u1ECFi ho\\u0103c b\\xECnh lu\\u1EADn c\\u1EE7a b\\u1EA1n...\",\n          \"aria-label\": \"Username\",\n          \"aria-describedby\": \"basic-addon1\",\n          value: formTextComment.text,\n          onChange: e => setFormTextComment({ ...formTextComment,\n            text: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn  me-md-2 ms-auto\",\n          type: \"submit\",\n          children: \"G\\u1EEDi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn \",\n          type: \"button\",\n          children: \"H\\u1EE7y\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(NewComment, \"JfSuqlGfWk5h+4fIUWOoefBbrVg=\", false, function () {\n  return [useParams, useMutation];\n});\n\n_c = NewComment;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewComment\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/kien_app/client/src/component/watching/watchingVideo_left/wVideo_left_bot/supportVideo/connectListSp/commentVideoPlaying/commentFormVideo/NewComment.js"],"names":["useMutation","React","useParams","NEW_COMMENT","useState","COMMENT_VIDEO_PLAYING","NewComment","id","formTextComment","setFormTextComment","text","new_comment","variables","videoId","update","cache","data","comment","readQuery","query","writeQuery","video","e","preventDefault","height","width","target","value"],"mappings":"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","sourcesContent":["import { useMutation } from '@apollo/client'\r\nimport React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport {NEW_COMMENT} from '../../../../../../../../graphql-client/Mutation'\r\nimport { useState } from 'react'\r\nimport { COMMENT_VIDEO_PLAYING } from '../../../../../../../../graphql-client/Queries'\r\nexport default function NewComment() {\r\n    const {id} = useParams()\r\n    const [formTextComment, setFormTextComment] = useState({text:''})\r\n    const [new_comment] = useMutation(NEW_COMMENT, {\r\n        // Nhập vào tham số\r\n        variables:{\r\n            // Nhập vào id của video từ id trên params\r\n            videoId: id, \r\n            // Nhập vào text của comment từ state \r\n            text: formTextComment.text\r\n        },\r\n        // Cập nhật bộ nhớ cache với data comment thay đổi\r\n        update:(cache, {data:{comment}})=>{\r\n            const data = cache.readQuery({\r\n                query: COMMENT_VIDEO_PLAYING,\r\n                variables: {id:id}\r\n                \r\n            });\r\n            \r\n            cache.writeQuery({\r\n                query: COMMENT_VIDEO_PLAYING,\r\n                data:{\r\n                    video: [comment, ...data.video]\r\n                    \r\n                },\r\n               \r\n            })\r\n\r\n        },\r\n        \r\n    })\r\n    return (\r\n        <div className=\"d-flex-column newComment\">\r\n            <div className=\"headerNewComment d-flex input-group \">\r\n                <span className=\"input-group-text\" id=\"basic-addon1\">\r\n                <img className=\"img- video_avatar\" alt=\"\" src=\"./gai.jpg\" />\r\n                </span>\r\n                <form\r\n                    onSubmit={(e) => {\r\n                        e.preventDefault();\r\n                        new_comment();\r\n                    }}\r\n                    >\r\n                        <input type=\"text\" style={{height: '50px', width:'400px'}} className=\"form-control\" placeholder=\"Đặt câu hỏi hoăc bình luận của bạn...\" aria-label=\"Username\" aria-describedby=\"basic-addon1\" \r\n                        value={formTextComment.text}\r\n                        onChange={(e) =>\r\n                          setFormTextComment({\r\n                            ...formTextComment,text:e.target.value\r\n                          })\r\n                        }\r\n                        />\r\n                        {/* <div className=\"d-flex \" style={{marginTop: '10px'}}> */}\r\n                            <button className=\"btn  me-md-2 ms-auto\" type= \"submit\">Gửi</button>\r\n                            <button className=\"btn \" type=\"button\">Hủy</button>\r\n                        {/* </div> */}\r\n                    </form>\r\n                \r\n            </div>\r\n            \r\n            </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}