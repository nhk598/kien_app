{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\kien_app\\\\client\\\\src\\\\component\\\\manageUser\\\\bodyManageUser\\\\manageSetting\\\\settingForm\\\\AvatarForm.js\",\n    _s = $RefreshSig$();\n\nimport { useMutation } from '@apollo/client';\nimport React from 'react';\nimport { PUBLISH_USER } from '../../../../../graphql-client/Mutation';\nimport { useState } from 'react';\nimport { openUploadWidget } from '../../../../../cloudinaryService/CloudinaryService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AvatarForm() {\n  _s();\n\n  const [avatarForm, setAvatarForm] = useState({\n    avatarForm: ''\n  });\n  const [settingUser] = useMutation(PUBLISH_USER, {\n    variables: {\n      avatar: avatarForm.avatarForm\n    }\n  });\n\n  const beginUpload = tag => {\n    const uploadOptions = {\n      cloudName: \"nhk598\",\n      tags: [tag],\n      uploadPreset: \"tailen\"\n    };\n    openUploadWidget(uploadOptions, (error, photos) => {\n      if (!error) {\n        // console.log(photos.info.thumbnail_url);\n        if (photos.event === 'success') {\n          setAvatarForm({ ...avatarForm,\n            avatarForm: photos.info.secure_url\n          }); // setFormState({...formState,thumbnail: photos.info.thumbnail_url})\n        }\n      } else {\n        console.log(error);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    action: \"submit\",\n    onSubmit: e => {\n      e.preventDefault();\n      settingUser();\n      alert('Đã thay đổi ảnh đại diện thành công !');\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"manageAvatar\",\n        children: \"Ch\\u1ECDn \\u1EA3nh \\u0111\\u1EA1i di\\u1EC7n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        value: settingUser.avatarForm,\n        onClick: () => beginUpload(),\n        children: \"T\\u1EA3i l\\xEAn \\u1EA3nh \\u0111\\u1EA1i di\\u1EC7n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      children: \"C\\u1EADp nh\\u1EADt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AvatarForm, \"gcysPaymxlviD3be3rGuTfq9wis=\", false, function () {\n  return [useMutation];\n});\n\n_c = AvatarForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AvatarForm\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/kien_app/client/src/component/manageUser/bodyManageUser/manageSetting/settingForm/AvatarForm.js"],"names":["useMutation","React","PUBLISH_USER","useState","openUploadWidget","AvatarForm","avatarForm","setAvatarForm","settingUser","variables","avatar","beginUpload","tag","uploadOptions","cloudName","tags","uploadPreset","error","photos","event","info","secure_url","console","log","e","preventDefault","alert"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,gBAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,wCAA7B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAAQC,gBAAR,QAA+B,oDAA/B;;AAEA,eAAe,SAASC,UAAT,GAAsB;AAAA;;AACjC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BJ,QAAQ,CAAC;AAC1CG,IAAAA,UAAU,EAAC;AAD+B,GAAD,CAA5C;AAIG,QAAM,CAACE,WAAD,IAAgBR,WAAW,CAACE,YAAD,EAAc;AAC7CO,IAAAA,SAAS,EAAC;AAERC,MAAAA,MAAM,EAAEJ,UAAU,CAACA;AAFX;AADmC,GAAd,CAAjC;;AAQA,QAAMK,WAAW,GAAGC,GAAG,IAAI;AACzB,UAAMC,aAAa,GAAG;AACpBC,MAAAA,SAAS,EAAE,QADS;AAEpBC,MAAAA,IAAI,EAAE,CAACH,GAAD,CAFc;AAGpBI,MAAAA,YAAY,EAAE;AAHM,KAAtB;AAMAZ,IAAAA,gBAAgB,CAACS,aAAD,EAAgB,CAACI,KAAD,EAAQC,MAAR,KAAmB;AACjD,UAAI,CAACD,KAAL,EAAY;AACV;AACA,YAAGC,MAAM,CAACC,KAAP,KAAiB,SAApB,EAA8B;AAC3BZ,UAAAA,aAAa,CAAC,EAAC,GAAGD,UAAJ;AAAeA,YAAAA,UAAU,EAAEY,MAAM,CAACE,IAAP,CAAYC;AAAvC,WAAD,CAAb,CAD2B,CAE5B;AAED;AAEF,OARD,MAQO;AACLC,QAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACD;AACF,KAZe,CAAhB;AAaD,GApBD;;AAqBH,sBACI;AAAM,IAAA,MAAM,EAAC,QAAb;AACA,IAAA,QAAQ,EAAGO,CAAD,IAAO;AACfA,MAAAA,CAAC,CAACC,cAAF;AACAjB,MAAAA,WAAW;AACXkB,MAAAA,KAAK,CAAC,uCAAD,CAAL;AACD,KALD;AAAA,4BAMI;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA,8BACQ;AAAO,QAAA,OAAO,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADR,eAEQ;AAAQ,QAAA,KAAK,EAAElB,WAAW,CAACF,UAA3B;AAAuC,QAAA,OAAO,EAAE,MAAMK,WAAW,EAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFR;AAAA;AAAA;AAAA;AAAA;AAAA,YANJ,eAWU;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAsB,MAAA,SAAS,EAAC,iBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAXV;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAgBH;;GAlDuBN,U;UAKKL,W;;;KALLK,U","sourcesContent":["import { useMutation } from '@apollo/client'\r\nimport React from 'react'\r\nimport { PUBLISH_USER } from '../../../../../graphql-client/Mutation'\r\nimport { useState } from 'react'\r\nimport {openUploadWidget} from '../../../../../cloudinaryService/CloudinaryService'\r\n\r\nexport default function AvatarForm() {\r\n    const [avatarForm, setAvatarForm] = useState({\r\n       avatarForm:'', \r\n       \r\n       })\r\n       const [settingUser] = useMutation(PUBLISH_USER,{\r\n         variables:{\r\n           \r\n           avatar: avatarForm.avatarForm,\r\n           \r\n           \r\n         }\r\n       })\r\n       const beginUpload = tag => {\r\n         const uploadOptions = {\r\n           cloudName: \"nhk598\",\r\n           tags: [tag],\r\n           uploadPreset: \"tailen\"\r\n         };\r\n       \r\n         openUploadWidget(uploadOptions, (error, photos) => {\r\n           if (!error) {\r\n             // console.log(photos.info.thumbnail_url);\r\n             if(photos.event === 'success'){\r\n                setAvatarForm({...avatarForm,avatarForm: photos.info.secure_url});\r\n               // setFormState({...formState,thumbnail: photos.info.thumbnail_url})\r\n               \r\n             }\r\n             \r\n           } else {\r\n             console.log(error);\r\n           }\r\n         })\r\n       }\r\n    return (\r\n        <form action=\"submit\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          settingUser();\r\n          alert('Đã thay đổi ảnh đại diện thành công !');        \r\n        }}>\r\n            <div className=\"form-group\">\r\n                    <label htmlFor=\"manageAvatar\">Chọn ảnh đại diện</label>\r\n                    <button value={settingUser.avatarForm} onClick={() => beginUpload()}>Tải lên ảnh đại diện</button>\r\n                                      \r\n                  </div>\r\n                  <button type=\"submit\" className=\"btn btn-primary\">Cập nhật</button>\r\n        </form>\r\n        \r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}