{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\kien_app\\\\client\\\\src\\\\component\\\\manageUser\\\\bodyManageUser\\\\manageListVideo\\\\formToolListVideo\\\\formTitleVideo\\\\FormTitleVideo.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from 'react';\nimport { CREATE_VIDEO } from '../../../../../../graphql-client/Mutation';\nimport { useMutation } from '@apollo/client';\nimport { VIDEOS_USER_MANAGE } from '../../../../../../graphql-client/Queries';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function FormTitleVideo(props) {\n  _s();\n\n  const [formState, setFormState] = useState({\n    description: '',\n    title: '',\n    document: ''\n  }); //   Tạo video mới \n\n  const [createVideo] = useMutation(CREATE_VIDEO, {\n    variables: {\n      description: formState.description,\n      //   url: formState.add.url,\n      url: props.urlVideo,\n      title: formState.title,\n      document: formState.document,\n      thumbnail: props.urlThumbnail\n    },\n    // Cập nhật bộ nhớ cache khi thêm video mới thì danh sách video của người dùng\n    // được cập nhật và hiện thì ra video vừa được tải lên\n    update: (cache, {\n      data: {\n        video\n      }\n    }) => {\n      // Gán biến data với giá trị trong bộ nhớ cache từ query: \n      const data = cache.readQuery({\n        query: VIDEOS_USER_MANAGE,\n        variables: {\n          skip: \"0\",\n          take: \"11\"\n        }\n      }); // Gọi lại cache tìm phần thông tin chứa query, thay thế phần thông tin với thong tin data \n\n      cache.writeQuery({\n        query: VIDEOS_USER_MANAGE,\n        //                 \n        data: {\n          video: [...data.videos, video]\n        },\n        variables: {\n          skip: \"0\",\n          take: \"11\"\n        }\n      });\n    }\n  });\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createVideo();\n    setFormState({ ...formState,\n      description: '',\n      title: '',\n      document: ''\n    });\n    alert('Đã thêm video mới thành công ấn nút \"Thoát\" để quay lại !');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"titleNewVideo-from\",\n          className: \"col-form-label\",\n          children: \"Ti\\xEAu \\u0111\\u1EC1 v\\u1EE7a Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"titleNewVideo-from\",\n          style: {\n            height: '50px'\n          },\n          value: formState.title,\n          onChange: e => setFormState({ ...formState,\n            title: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"descriptionNewVideo-from\",\n          className: \"col-form-label\",\n          children: \"Mi\\xEAu t\\u1EA3 video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          id: \"descriptionNewVideo-from\",\n          style: {\n            height: '100px'\n          },\n          value: formState.description,\n          onChange: e => setFormState({ ...formState,\n            description: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"T\\xE0i li\\u1EC7u Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"docsNewVideo-from\",\n          className: \"col-form-label\",\n          children: \"Th\\xEAm t\\xE0i li\\u1EC7u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Nh\\u1EADp v\\xE0o t\\xE0i li\\u1EC7u c\\u1EE7a b\\u1EA1n\",\n          id: \"docsNewVideo-from\",\n          style: {\n            height: '100px'\n          },\n          value: formState.document,\n          onChange: e => setFormState({ ...formState,\n            document: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 37\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"btn btn-light\",\n          \"data-bs-dismiss\": \"modal\",\n          children: \"Tho\\xE1t\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 37\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-info\",\n          children: \"G\\u1EEDi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(FormTitleVideo, \"hMFfIncyGWHOOnDNK74L1zzSb7o=\", false, function () {\n  return [useMutation];\n});\n\n_c = FormTitleVideo;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormTitleVideo\");","map":{"version":3,"sources":["C:/Users/Asus/Desktop/kien_app/client/src/component/manageUser/bodyManageUser/manageListVideo/formToolListVideo/formTitleVideo/FormTitleVideo.js"],"names":["React","useState","CREATE_VIDEO","useMutation","VIDEOS_USER_MANAGE","FormTitleVideo","props","formState","setFormState","description","title","document","createVideo","variables","url","urlVideo","thumbnail","urlThumbnail","update","cache","data","video","readQuery","query","skip","take","writeQuery","videos","handleSubmit","e","preventDefault","alert","height","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useState} from 'react'\r\nimport { CREATE_VIDEO } from '../../../../../../graphql-client/Mutation';\r\nimport { useMutation } from '@apollo/client';\r\nimport {VIDEOS_USER_MANAGE} from '../../../../../../graphql-client/Queries'\r\nexport default function FormTitleVideo(props) {\r\n    const [formState, setFormState] = useState({\r\n        description: '',\r\n        title:'',\r\n        document:'',\r\n      \r\n      });\r\n    //   Tạo video mới \r\n      const [createVideo] = useMutation(CREATE_VIDEO, {\r\n        variables: {\r\n          description: formState.description,\r\n        //   url: formState.add.url,\r\n          url: props.urlVideo,\r\n          title:formState.title,\r\n          document:formState.document,\r\n          thumbnail:props.urlThumbnail\r\n        },\r\n        // Cập nhật bộ nhớ cache khi thêm video mới thì danh sách video của người dùng\r\n        // được cập nhật và hiện thì ra video vừa được tải lên\r\n        update:(cache, {data:{video}})=>{\r\n            // Gán biến data với giá trị trong bộ nhớ cache từ query: \r\n            const data = cache.readQuery({\r\n                query: VIDEOS_USER_MANAGE,\r\n                variables:{skip:\"0\", take:\"11\"}\r\n            });\r\n            // Gọi lại cache tìm phần thông tin chứa query, thay thế phần thông tin với thong tin data \r\n            cache.writeQuery({\r\n                query: VIDEOS_USER_MANAGE,\r\n//                 \r\n                data:{\r\n                    video:  [...data.videos, video]\r\n                    }\r\n                ,\r\n                variables:{\r\n                    skip:\"0\", take:\"11\"\r\n                }\r\n            }); \r\n            \r\n\r\n        },\r\n      });\r\n      const handleSubmit = (e)=> {\r\n        e.preventDefault();\r\n        createVideo();\r\n        setFormState({...formState, description: '', title:'', document:'',})\r\n        alert('Đã thêm video mới thành công ấn nút \"Thoát\" để quay lại !');\r\n      };\r\n    return (\r\n        <div>\r\n                        <form onSubmit={handleSubmit}>\r\n                                    \r\n                        <div className=\"mb-3\">\r\n                                    <label htmlFor=\"titleNewVideo-from\" className=\"col-form-label\">Tiêu đề vủa Video</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"titleNewVideo-from\" style={{height: '50px'}} \r\n                                    value={formState.title}\r\n                                        onChange={(e) =>\r\n                                        setFormState({\r\n                                            ...formState,\r\n                                            title: e.target.value\r\n                                        })\r\n                                        } \r\n                                        />\r\n                                    </div>\r\n                                    \r\n                                    <div className=\"mb-3\">\r\n                                    <label htmlFor=\"descriptionNewVideo-from\" className=\"col-form-label\">Miêu tả video</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"descriptionNewVideo-from\" style={{height: '100px'}} \r\n                                    value={formState.description}\r\n                                        onChange={(e) =>\r\n                                        setFormState({\r\n                                            ...formState,\r\n                                            description: e.target.value\r\n                                        })\r\n                                        }\r\n                                         />\r\n                                    </div>\r\n                                    <hr />\r\n                                    <h3>Tài liệu Video</h3>\r\n                                    <div className=\"mb-3\">\r\n                                    <label htmlFor=\"docsNewVideo-from\" className=\"col-form-label\">Thêm tài liệu</label>\r\n                                    <textarea type=\"text\" className=\"form-control\" placeholder=\"Nhập vào tài liệu của bạn\" id=\"docsNewVideo-from\" style={{height: '100px'}} \r\n                                   \r\n                                    value={formState.document}\r\n                                        onChange={(e) =>\r\n                                        setFormState({\r\n                                            ...formState,\r\n                                            document: e.target.value\r\n                                        })\r\n                                        } \r\n                                     />\r\n                                    </div>\r\n                                    <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-light\" data-bs-dismiss=\"modal\">Thoát</button>\r\n                                    <button type=\"submit\" className=\"btn btn-info\" >Gửi</button>\r\n                                    </div>\r\n                                    </form>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}